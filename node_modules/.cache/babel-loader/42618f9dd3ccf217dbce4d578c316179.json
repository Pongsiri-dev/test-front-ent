{"ast":null,"code":"import _slicedToArray from\"/Users/pongsiri.an/Documents/GitHub/test-front-ent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';// ----------------------------------------------------------------------\nexport default function useLocalStorage(key,defaultValue){var _useState=useState(function(){var storedValue=localStorage.getItem(key);return storedValue===null?defaultValue:JSON.parse(storedValue);}),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];useEffect(function(){var listener=function listener(e){if(e.storageArea===localStorage&&e.key===key){setValue(e.newValue?JSON.parse(e.newValue):e.newValue);}};window.addEventListener('storage',listener);return function(){window.removeEventListener('storage',listener);};},[key,defaultValue]);var setValueInLocalStorage=function setValueInLocalStorage(newValue){setValue(function(currentValue){var result=typeof newValue==='function'?newValue(currentValue):newValue;localStorage.setItem(key,JSON.stringify(result));return result;});};return[value,setValueInLocalStorage];}","map":{"version":3,"sources":["/Users/pongsiri.an/Documents/GitHub/test-front-ent/src/hooks/useLocalStorage.ts"],"names":["useState","useEffect","useLocalStorage","key","defaultValue","storedValue","localStorage","getItem","JSON","parse","value","setValue","listener","e","storageArea","newValue","window","addEventListener","removeEventListener","setValueInLocalStorage","currentValue","result","setItem","stringify"],"mappings":"yKAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA;AAEA,cAAe,SAASC,CAAAA,eAAT,CAAoCC,GAApC,CAAiDC,YAAjD,CAA0E,CACvF,cAA0BJ,QAAQ,CAAC,UAAM,CACvC,GAAMK,CAAAA,WAAW,CAAGC,YAAY,CAACC,OAAb,CAAqBJ,GAArB,CAApB,CACA,MAAOE,CAAAA,WAAW,GAAK,IAAhB,CAAuBD,YAAvB,CAAsCI,IAAI,CAACC,KAAL,CAAWJ,WAAX,CAA7C,CACD,CAHiC,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eAKAV,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAqB,CACpC,GAAIA,CAAC,CAACC,WAAF,GAAkBR,YAAlB,EAAkCO,CAAC,CAACV,GAAF,GAAUA,GAAhD,CAAqD,CACnDQ,QAAQ,CAACE,CAAC,CAACE,QAAF,CAAaP,IAAI,CAACC,KAAL,CAAWI,CAAC,CAACE,QAAb,CAAb,CAAsCF,CAAC,CAACE,QAAzC,CAAR,CACD,CACF,CAJD,CAKAC,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmCL,QAAnC,EAEA,MAAO,WAAM,CACXI,MAAM,CAACE,mBAAP,CAA2B,SAA3B,CAAsCN,QAAtC,EACD,CAFD,CAGD,CAXQ,CAWN,CAACT,GAAD,CAAMC,YAAN,CAXM,CAAT,CAaA,GAAMe,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACJ,QAAD,CAAyB,CACtDJ,QAAQ,CAAC,SAACS,YAAD,CAAuB,CAC9B,GAAMC,CAAAA,MAAM,CAAG,MAAON,CAAAA,QAAP,GAAoB,UAApB,CAAiCA,QAAQ,CAACK,YAAD,CAAzC,CAA0DL,QAAzE,CACAT,YAAY,CAACgB,OAAb,CAAqBnB,GAArB,CAA0BK,IAAI,CAACe,SAAL,CAAeF,MAAf,CAA1B,EACA,MAAOA,CAAAA,MAAP,CACD,CAJO,CAAR,CAKD,CAND,CAQA,MAAO,CAACX,KAAD,CAAQS,sBAAR,CAAP,CACD","sourcesContent":["import { useState, useEffect } from 'react';\n\n// ----------------------------------------------------------------------\n\nexport default function useLocalStorage<ValueType>(key: string, defaultValue: ValueType) {\n  const [value, setValue] = useState(() => {\n    const storedValue = localStorage.getItem(key);\n    return storedValue === null ? defaultValue : JSON.parse(storedValue);\n  });\n\n  useEffect(() => {\n    const listener = (e: StorageEvent) => {\n      if (e.storageArea === localStorage && e.key === key) {\n        setValue(e.newValue ? JSON.parse(e.newValue) : e.newValue);\n      }\n    };\n    window.addEventListener('storage', listener);\n\n    return () => {\n      window.removeEventListener('storage', listener);\n    };\n  }, [key, defaultValue]);\n\n  const setValueInLocalStorage = (newValue: ValueType) => {\n    setValue((currentValue: any) => {\n      const result = typeof newValue === 'function' ? newValue(currentValue) : newValue;\n      localStorage.setItem(key, JSON.stringify(result));\n      return result;\n    });\n  };\n\n  return [value, setValueInLocalStorage];\n}\n"]},"metadata":{},"sourceType":"module"}